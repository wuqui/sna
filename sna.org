#+TITLE: SNA
#+AUTHOR: QW

#+property: header-args :session sna

* motivation
- The *time pressure* for my PhD will ease.
- I will treat myself to a *new Macbook*
- It will boost my *PhD progress*.
  - will boost me to about 40% of my diss
  - I can then fully focus on *SocEmb* til the end of the year.
  - I can then work on the NeoCorpus paper at the start of the next year.
- This is a proof of concept for my *career in knowledge work*.
  - I can be successful.
  - I can work from home.
  - I can balance work and life.
  - I can optimize my setup (chairs, desk, keyboard, Emacs).
* agenda
** DONE consolidate current version
:CLOCKBOOK:
CLOCK: [2020-06-15 Mo 16:59]--[2020-06-15 Mon 19:50] =>  2:51
:END:
** DONE read and indent
:CLOCKBOOK:
CLOCK: [2020-06-15 Mon 22:25]--[2020-06-15 Mon 23:23] =>  0:58
:END:
** DONE send mail to Schmid
- Hast Du nächste Woche Zeit für Korrekturlesen?
- Dann würde ich dir Anfang der Woche das Paper schicken.
** DONE read cite:Laitinen2020SizeMatters
:CLOCKBOOK:
CLOCK: [2020-07-09 Thu 16:22]--[2020-07-09 Thu 17:39] =>  1:17
CLOCK: [2020-07-08 Wed 17:37]--[2020-07-08 Wed 19:00] =>  1:23
:END:
** DONE get document running again
:CLOCKBOOK:
CLOCK: [2020-09-23 Wed 15:45]--[2020-09-23 Wed 15:49] =>  0:04
:END:
** DONE read existing stuff again
:CLOCKBOOK:
CLOCK: [2020-09-23 Wed 18:18]--[2020-09-23 Wed 19:12] =>  0:54
CLOCK: [2020-09-23 Wed 17:13]--[2020-09-23 Wed 18:02] =>  0:49
CLOCK: [2020-09-23 Wed 16:18]--[2020-09-23 Wed 16:51] =>  0:33
:END:
** DONE establish motivation and strategy
:CLOCKBOOK:
CLOCK: [2020-09-25 Fri 14:46]--[2020-09-25 Fri 14:54] =>  0:08
:END:
** DONE try =GAM= smoothing for usage frequency plots
:CLOCKBOOK:
CLOCK: [2020-10-28 Wed 11:05]--[2020-10-28 Wed 12:09] =>  1:04
:END:
** DONE check correlation measures
:CLOCKBOOK:
CLOCK: [2020-10-28 Wed 13:00]--[2020-10-28 Wed 15:00] =>  2:00
:END:
** DONE ask Stefano
*** DONE smoothing function for time-series trajectories
- GAMs applicable?
** TODO write remaining parts
*** DONE write data
:CLOCKBOOK:
CLOCK: [2020-06-16 Di 19:10]--[2020-06-16 Di 20:23] =>  1:13
CLOCK: [2020-06-16 Tue 08:29]--[2020-06-16 Di 13:40]  =>  5:11
:END:
*** DONE write method
:CLOCKBOOK:
CLOCK: [2020-06-21 So 18:45]--[2020-06-21 So 19:50] =>  1:05
CLOCK: [2020-06-21 So 17:25]--[2020-06-21 So 18:35] =>  1:10
CLOCK: [2020-06-21 So 15:34]--[2020-06-21 So 16:58] =>  1:24
CLOCK: [2020-06-21 So 14:13]--[2020-06-21 So 15:15] =>  1:02
CLOCK: [2020-06-20 Sat 12:29]--[2020-06-20 Sa 13:00] =>  0:31
CLOCK: [2020-06-20 Sat 11:09]--[2020-06-20 Sat 12:16] =>  1:07
CLOCK: [2020-06-20 Sat 10:00]--[2020-06-20 Sat 10:56] =>  0:56
CLOCK: [2020-06-16 Di 21:00]--[2020-06-16 Di 21:32] =>  0:32
:END:
*** TODO results
:CLOCKBOOK:
CLOCK: [2020-12-11 Fri 22:36]--[2020-12-11 Fri 23:03] =>  0:27
CLOCK: [2020-12-11 Fri 20:27]--[2020-12-11 Fri 22:09] =>  1:42
CLOCK: [2020-12-11 Fri 17:05]--[2020-12-11 Fri 17:47] =>  0:42
CLOCK: [2020-12-10 Thu 21:33]--[2020-12-10 Thu 23:33] =>  2:00
CLOCK: [2020-12-10 Thu 18:00]--[2020-12-10 Thu 18:38] =>  0:38
CLOCK: [2020-10-27 Tue 18:20]--[2020-10-27 Tue 22:12] =>  3:52
CLOCK: [2020-09-30 Wed 16:56]--[2020-09-30 Wed 17:49] =>  0:53
CLOCK: [2020-09-25 Fri 15:15]--[2020-09-25 Fri 19:28] =>  4:13
CLOCK: [2020-07-01 Mi 11:50]--[2020-07-01 Mi 12:42] =>  0:52
CLOCK: [2020-06-29 Mo 14:36]--[2020-06-29 Mo 15:30] =>  0:54
CLOCK: [2020-06-23 Tue 21:50]--[2020-06-23 Tue 23:47] =>  1:57
CLOCK: [2020-06-23 Tue 16:35]--[2020-06-23 Tue 20:30] =>  3:55
CLOCK: [2020-06-22 Mo 16:24]--[2020-06-22 Mon 17:30] =>  1:06
:END:
**** DONE frequency
***** DONE total counts
:CLOCKBOOK:
CLOCK: [2020-10-20 Tue 20:39]--[2020-10-21 Wed 09:21] => 12:42
:END:
***** DONE cumulative counts
:CLOCKBOOK:
CLOCK: [2020-10-27 Tue 18:20]--[2020-10-27 Tue 19:04] =>  0:44
CLOCK: [2020-10-26 Mon 11:37]--[2020-10-26 Mon 19:01] =>  7:24
:END:
***** DONE absolute counts
***** DONE coefficient of variation
:CLOCKBOOK:
CLOCK: [2020-12-12 Sat 15:47]--[2020-12-12 Sat 19:32] =>  3:45
:END:
***** DONE summary
:CLOCKBOOK:
CLOCK: [2020-12-13 Sun 13:55]--[2020-12-13 Sun 16:37] =>  2:42
CLOCK: [2020-12-13 Sun 10:46]--[2020-12-13 Sun 13:07] =>  2:21
CLOCK: [2020-12-12 Sat 21:36]--[2020-12-12 Sat 23:46] =>  2:10
:END:
**** DONE sna
:CLOCKBOOK:
CLOCK: [2020-12-19 Sat 15:31]--[2020-12-19 Sat 19:27] =>  3:56
CLOCK: [2020-12-19 Sat 10:53]--[2020-12-19 Sat 14:26]  =>  3:33
CLOCK: [2020-12-17 Thu 21:58]--[2020-12-18 Fri 01:55] =>  3:57
CLOCK: [2020-12-16 Wed 16:50]--[2020-12-16 Wed 22:50] =>  6:00
CLOCK: [2020-12-13 Sun 22:03]--[2020-12-13 Sun 23:31] =>  1:28
:END:
***** DONE degrees
***** DONE pathways
**** TODO freq vs. sna
:CLOCKBOOK:
CLOCK: [2020-12-20 Sun 15:56]--[2020-12-20 Sun 19:54] =>  3:58
CLOCK: [2020-12-20 Sun 10:29]--[2020-12-20 Sun 14:00] =>  3:31
CLOCK: [2020-12-19 Sat 21:42]--[2020-12-20 Sun 01:01] =>  3:19
:END:
*** TODO discussion
*** TODO conclusion
*** TODO theoretical framework
** TODO edit text
** TODO Hans-Jörg
*** Fragen
**** terminology
***** coefficient of variation
- consistency
- volatility
- fluctuation
***** diffusion vs. conventionalization
*** help
**** theoretical background
**** discussion

** TODO misc
*** DONE check research topic style
:CLOCKBOOK:
CLOCK: [2020-06-22 Mo 15:20]--[2020-06-22 Mo 15:47] =>  0:27
:END:
*** DONE scale UI plots to full time range
*** TODO remove smoothing function for freq plots
*** TODO try rolling mean
https://stackoverflow.com/a/40857495/4165300
*** TODO re-calculate =age= with diffusion offsets
*** TODO put list of lexemes in Appendix
* track writing
** data
#+NAME: tbl-write
|          <c>           |          <c>           | <l>      |   <c>    |     <r> |   <r> |    <r> |
|------------------------+------------------------+----------+----------+---------+-------+--------|
|        t_start         |         t_end          | dur_d    | dur_hms  | w_start | w_end | w_diff |
|------------------------+------------------------+----------+----------+---------+-------+--------|
| [2020-06-21 Sun 14:14] | [2020-06-21 Sun 15:14] | 0.041666 | 00:59:59 |    5668 |  5775 |    107 |
| [2020-06-21 Sun 15:34] | [2020-06-21 Sun 16:55] | 0.05625  | 01:21:00 |    5775 |  6008 |    233 |
| [2020-06-21 Sun 17:27] | [2020-06-21 Sun 18:36] | 0.047917 | 01:09:00 |    6008 |  6214 |    206 |
| [2020-06-21 Sun 18:47] | [2020-06-21 Sun 19:48] | 0.042361 | 01:00:59 |    6214 |  6233 |     19 |
| [2020-06-22 Mon 16:22] | [2020-06-22 Mon 17:29] | 0.046528 | 01:07:00 |    6241 |  6379 |    138 |
| [2020-06-22 Mon 17:55] | [2020-06-22 Mon 18:56] | 0.042361 | 01:00:59 |    6381 |  6421 |     40 |
| [2020-06-23 Tue 16:34] | [2020-06-23 Tue 17:33] | 0.040972 | 00:58:59 |    6421 |  6755 |    334 |
| [2020-06-23 Tue 17:44] | [2020-06-23 Tue 19:11] | 0.060417 | 01:27:00 |    6755 |  6768 |     13 |
| [2020-06-23 Tue 19:20] | [2020-06-23 Tue 20:30] | 0.048611 | 01:09:59 |    6768 |  6761 |     -7 |
| [2020-06-23 Tue 21:49] | [2020-06-23 Tue 22:54] | 0.045139 | 01:05:00 |    6761 |  6770 |      9 |
| [2020-06-23 Tue 23:05] | [2020-06-23 Tue 23:45] | 0.027777 | 00:39:59 |    6770 |  6812 |     42 |
| [2020-06-29 Mon 14:36] | [2020-06-29 Mon 15:44] | 0.047223 | 01:08:00 |    6812 |  6892 |     80 |
| [2020-06-29 Mon 16:00] | [2020-06-29 Mon 16:48] | 0.033333 | 00:47:59 |    6892 |  6896 |      4 |
| [2020-07-01 Wed 11:50] | [2020-07-01 Wed 12:41] | 0.035416 | 00:50:59 |    6943 |  7036 |     93 |
| [2020-07-07 Tue 13:54] | [2020-07-07 Tue 15:22] | 0.061111 | 01:27:59 |    7098 |  7226 |    128 |
| [2020-09-25 Fri 15:56] | [2020-09-25 Fri 16:35] | 0.027083 | 00:38:59 |    7284 |  7310 |     26 |
| [2020-09-25 Fri 16:47] | [2020-09-25 Fri 17:47] | 0.041666 | 00:59:59 |    7310 |  7479 |    169 |
| [2020-09-25 Fri 18:00] | [2020-09-25 Fri 19:00] | 0.041667 | 01:00:00 |    7479 |  7559 |     80 |
| [2020-10-20 Tue 21:03] | [2020-10-20 Tue 21:54] | 0.035417 | 00:51:00 |    7555 |  7672 |    117 |
| [2020-10-20 Tue 22:04] | [2020-10-20 Tue 22:46] | 0.029167 | 00:42:00 |    7672 |  7736 |     64 |
| [2020-10-20 Tue 22:55] | [2020-10-20 Tue 23:52] | 0.039583 | 00:56:59 |    7736 |  7737 |      1 |
| [2020-10-21 Wed 00:05] | [2020-10-21 Wed 00:31] | 0.018056 | 00:26:00 |    7737 |  7539 |   -198 |
| [2020-10-26 Mon 12:41] | [2020-10-26 Mon 13:41] | 0.041667 | 01:00:00 |    7540 |  7565 |     25 |
| [2020-10-26 Mon 14:16] | [2020-10-26 Mon 15:49] | 0.064584 | 01:33:00 |    7565 |  7633 |     68 |
| [2020-10-26 Mon 16:15] | [2020-10-26 Mon 17:46] | 0.063195 | 01:31:00 |    7633 |  7766 |    133 |
| [2020-10-26 Mon 17:57] | [2020-10-26 Mon 18:55] | 0.040277 | 00:57:59 |    7766 |  7735 |    -31 |
| [2020-10-27 Tue 18:20] | [2020-10-27 Tue 19:05] | 0.03125  | 00:45:00 |    7735 |  7777 |     42 |
| [2020-10-27 Tue 19:28] | [2020-10-27 Tue 20:14] | 0.031945 | 00:46:00 |    7777 |  7890 |    113 |
| [2020-12-10 Thu 17:41] | [2020-12-10 Thu 18:35] | 0.0375   | 00:54:00 |    7892 |  7892 |      0 |
| [2020-12-10 Thu 21:33] | [2020-12-10 Thu 23:32] | 0.082639 | 01:59:00 |    7892 |  8097 |    205 |
| [2020-12-11 Fri 17:05] | [2020-12-11 Fri 17:47] | 0.029166 | 00:41:59 |    8097 |  8101 |      4 |
| [2020-12-11 Fri 20:27] | [2020-12-11 Fri 22:09] | 0.070834 | 01:42:00 |    8101 |  8370 |    269 |
| [2020-12-12 Sat 15:48] | [2020-12-12 Sat 16:36] | 0.033334 | 00:48:00 |    8370 |  8470 |    100 |
| [2020-12-12 Sat 16:50] | [2020-12-12 Sat 17:42] | 0.036111 | 00:51:59 |    8470 |  8649 |    179 |
| [2020-12-12 Sat 18:06] | [2020-12-12 Sat 19:26] | 0.055555 | 01:19:59 |    8649 |  8880 |    231 |
| [2020-12-12 Sat 21:40] | [2020-12-12 Sat 22:28] | 0.033333 | 00:47:59 |    8880 |  8951 |     71 |
| [2020-12-12 Sat 22:53] | [2020-12-12 Sat 23:46] | 0.036806 | 00:53:00 |    8951 |  9076 |    125 |
| [2020-12-13 Sun 10:37] | [2020-12-13 Sun 11:45] | 0.047222 | 01:07:59 |    9076 |  9110 |     34 |
| [2020-12-13 Sun 12:04] | [2020-12-13 Sun 13:07] | 0.04375  | 01:03:00 |    9110 |  9213 |    103 |
| [2020-12-13 Sun 13:57] | [2020-12-13 Sun 14:59] | 0.043056 | 01:02:00 |    9213 |  9502 |    289 |
| [2020-12-13 Sun 15:15] | [2020-12-13 Sun 16:17] | 0.043055 | 01:01:59 |    9502 |  9683 |    181 |
| [2020-12-13 Sun 22:07] | [2020-12-13 Sun 23:31] | 0.058333 | 01:23:59 |    9683 |  9730 |     47 |
| [2020-12-16 Wed 16:50] | [2020-12-16 Wed 17:10] | 0.013889 | 00:20:00 |    9730 |  9731 |      1 |
| [2020-12-16 Wed 17:21] | [2020-12-16 Wed 18:01] | 0.027777 | 00:39:59 |    9731 |  9907 |    176 |
| [2020-12-16 Wed 18:10] | [2020-12-16 Wed 19:20] | 0.048612 | 01:10:00 |    9907 | 10111 |    204 |
| [2020-12-16 Wed 19:30] | [2020-12-16 Wed 20:31] | 0.042361 | 01:00:59 |   10111 | 10215 |    104 |
| [2020-12-16 Wed 21:00] | [2020-12-16 Wed 22:51] | 0.077083 | 01:50:59 |   10215 | 10257 |     42 |
| [2020-12-17 Thu 21:58] | [2020-12-17 Thu 22:45] | 0.032639 | 00:47:00 |   10257 | 10316 |     59 |
| [2020-12-17 Thu 22:55] | [2020-12-17 Thu 23:41] | 0.029167 | 00:42:00 |   10316 | 10433 |    117 |
| [2020-12-17 Thu 23:52] | [2020-12-18 Fri 00:58] | 0.045834 | 01:06:00 |   10433 | 10484 |     51 |
| [2020-12-18 Fri 01:10] | [2020-12-18 Fri 01:55] | 0.03125  | 00:45:00 |   10484 | 10755 |    271 |
| [2020-12-19 Sat 10:53] | [2020-12-19 Sat 11:22] | 0.020139 | 00:29:00 |   10755 | 10798 |     43 |
| [2020-12-19 Sat 12:02] | [2020-12-19 Sat 12:46] | 0.030555 | 00:43:59 |   10798 | 10959 |    161 |
| [2020-12-19 Sat 12:55] | [2020-12-19 Sat 14:22] | 0.060417 | 01:27:00 |   10959 | 11236 |    277 |
| [2020-12-19 Sat 15:31] | [2020-12-19 Sat 16:19] | 0.033333 | 00:47:59 |   11236 | 11378 |    142 |
| [2020-12-19 Sat 16:30] | [2020-12-19 Sat 17:08] | 0.026389 | 00:38:00 |   11378 | 11394 |     16 |
| [2020-12-19 Sat 17:28] | [2020-12-19 Sat 18:18] | 0.034722 | 00:49:59 |   11394 | 11675 |    281 |
| [2020-12-19 Sat 18:30] | [2020-12-19 Sat 19:26] | 0.038889 | 00:56:00 |   11675 | 11884 |    209 |
| [2020-12-19 Sat 21:43] | [2020-12-19 Sat 22:15] | 0.022222 | 00:31:59 |   11884 | 11884 |      0 |
| [2020-12-19 Sat 22:25] | [2020-12-19 Sat 23:23] | 0.040278 | 00:58:00 |   11884 | 12039 |    155 |
| [2020-12-19 Sat 23:37] | [2020-12-20 Sun 00:28] | 0.035416 | 00:50:59 |   12039 | 12198 |    159 |
| [2020-12-20 Sun 00:42] | [2020-12-20 Sun 01:00] | 0.0125   | 00:18:00 |   12198 | 12271 |     73 |
| [2020-12-20 Sun 10:30] | [2020-12-20 Sun 10:45] | 0.010417 | 00:15:00 |   12271 | 12256 |    -15 |
| [2020-12-20 Sun 18:05] | [2020-12-20 Sun 18:58] | 0.036806 | 00:53:00 |   12256 | 12406 |    150 |
| [2020-12-20 Sun 19:14] | [2020-12-20 Sun 19:53] | 0.027083 | 00:38:59 |   12406 | 12409 |      3 |
| [2020-12-20 Sun 20:55] | [2020-12-20 Sun 21:42] | 0.032639 | 00:47:00 |   12409 | 12599 |    190 |
| [2020-12-20 Sun 21:52] | [2020-12-20 Sun 22:31] | 0.027083 | 00:38:59 |   12599 | 12695 |     96 |
|                        |                        |          |          |         | 12455 |        |
|------------------------+------------------------+----------+----------+---------+-------+--------|
|                        |                        | 0        | 64:05:30 |         |       |   6851 |
|------------------------+------------------------+----------+----------+---------+-------+--------|
#+TBLFM: @>$7=vsum(@II..@III)::@>$4=vsum(@II..@III); T::$3=date(<$2>)-date(<$1>)::$4=$3 * 24 * 60 * 60; T::$7=$6 - $5

** analysis
#+call: make-plot()

[[file:out/track-writing.png]]

[[file:out/track-writing.html]]

*** process data
#+name: analyze-data
#+BEGIN_SRC jupyter-python :var data=tbl-write
import pandas as pd

df = pd.DataFrame(
    columns=data[1],
    data=data[2:-1]
)

df['t_start'] = df['t_start'].str[1:-1]
df['t_end'] = df['t_end'].str[1:-1]

df['t_start'] = pd.to_datetime(df['t_start'])
df['t_end'] = pd.to_datetime(df['t_end'])
df['dur_hms'] = pd.to_timedelta(df['dur_hms'])

df['date'] = df['t_start'].dt.date

df_dur = (df
          .groupby('date')
          .agg(time_day_td = ('dur_hms', sum))
          .reset_index()
          )

df_dur['date'] = pd.to_datetime(df_dur['date'])
df_dur['time_day_td'] = pd.to_timedelta(df_dur['time_day_td'])
#+END_SRC

#+RESULTS: analyze-data

*** make plot
#+name: make-plot
#+BEGIN_SRC jupyter-python :noweb yes :var data=tbl-write :results silent
<<analyze-data>>

import altair as alt
from altair_saver import save

df_dur['time_day_ts'] = df_dur['date'] + df_dur['time_day_td']

df_dur.drop(columns='time_day_td', inplace=True)

chart = alt.Chart(df_dur)\
           .mark_rule()\
           .encode(
               x=alt.X('date:T', title=''),
               y=alt.Y('hoursminutes(time_day_ts):T', title='hours / day'),
               tooltip=[
                   alt.Tooltip('date:T', title='date'),
                   alt.Tooltip('hoursminutes(time_day_ts):T', title='duration'),
               ]
           )\
           .interactive(bind_y=False)

chart.save('out/track-writing.png', scale_factor=2.0)
chart.save('out/track-writing.html')
#+END_SRC
